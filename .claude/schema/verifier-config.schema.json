{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Ralph Verifier Configuration",
  "description": "Per-project configuration for how Ralph verifies specs",
  "type": "object",
  "properties": {
    "project_type": {
      "type": "string",
      "enum": ["unity", "python", "typescript", "csharp", "go", "rust", "java", "custom"],
      "description": "The project type - determines default test commands"
    },
    "test_command": {
      "type": "string",
      "description": "Custom command to run tests (overrides project_type default)"
    },
    "test_method": {
      "type": "string",
      "enum": ["cli", "unity_mcp", "custom_mcp", "manual"],
      "default": "cli",
      "description": "How to run tests: cli (command line), unity_mcp (Unity MCP tool), custom_mcp (other MCP), manual (human runs)"
    },
    "unity": {
      "type": "object",
      "description": "Unity-specific settings (when project_type=unity)",
      "properties": {
        "test_mode": {
          "type": "string",
          "enum": ["EditMode", "PlayMode", "Both"],
          "default": "EditMode"
        },
        "assembly_names": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Specific test assemblies to run"
        }
      }
    },
    "compilation": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "description": "Command to compile/build the project"
        },
        "skip": {
          "type": "boolean",
          "default": false,
          "description": "Skip compilation check"
        }
      }
    },
    "file_verification": {
      "type": "object",
      "properties": {
        "required_extensions": {
          "type": "array",
          "items": {"type": "string"},
          "description": "File extensions that must exist for classes (e.g., ['.cs', '.meta'] for Unity)"
        },
        "skip": {
          "type": "boolean",
          "default": false,
          "description": "Skip file existence verification"
        }
      }
    }
  },
  "required": ["project_type"]
}
